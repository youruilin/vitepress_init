# uniapp 基础

## uni-app 和原生小程序开发区别

### 开发区别

uni-app 项目每个页面是一个 `.vue` 文件，数据绑定及事件处理同 `Vue.js` 规范：

1. 属性绑定 `src="{ { url }}"` 升级成 `:src="url"`

2. 事件绑定 `bindtap="eventName"` 升级成 `@tap="eventName"`，**支持（）传参**

3. 支持 Vue 常用**指令** `v-for`、`v-if`、`v-show`、`v-model` 等

### 其他区别补充

1. 调用接口能力，**建议前缀** `wx` 替换为 `uni` ，养成好习惯，**支持多端开发**。
2. `<style>` 页面样式不需要写 `scoped`，小程序是多页面应用，**页面样式自动隔离**。
3. **生命周期分三部分**：应用生命周期(小程序)，页面生命周期(小程序)，组件生命周期(Vue)



## 创建 uni-app 项目方式

**uni-app 支持两种方式创建项目：**

1. 通过 HBuilderX 创建（需安装 HBuilderX 编辑器）

2. 通过命令行创建（需安装 NodeJS 环境）

### HBuilderX 创建 uni-app 项目

**1.下载安装 HbuilderX 编辑器**

![下载安装 HbuilderX 编辑器](../../../public/image-uniapp_picture_1.png)

**2.通过 HbuilderX 创建 uni-app vue3 项目**

![通过 HbuilderX 创建 uni-app vue3 项目](../../../public/image-uniapp_picture_2.png)

**3.安装 uni-app vue3 编译器插件**

![安装 uni-app vue3 编译器插件](../../../public/image-uniapp_picture_3.png)

**4.编译成微信小程序端代码**

![编译成微信小程序端代码](../../../public/image-uniapp_picture_4.png)

**5.开启服务端口**

![开启服务端口](../../../public/image-uniapp_picture_5.png)

**小技巧分享：模拟器窗口分离和置顶**

![模拟器窗口分离和置顶](../../../public/image-uniapp_picture_6.png)

**HBuildeX 和 微信开发者工具 关系**

![HBuildeX 和 微信开发者工具 关系](../../../public/image-uniapp_picture_7.png)

::: tip 温馨提示
[HBuildeX](https://www.dcloud.io/hbuilderx.html) 和 [uni-app](https://uniapp.dcloud.net.cn/) 都属于 [DCloud](https://dcloud.io) 公司的产品。
:::

### 命令行创建 uni-app 项目

**优势**

通过命令行创建 uni-app 项目，**不必依赖 HBuilderX**，TypeScript 类型支持友好。

**命令行创建** **uni-app** **项目：**

vue3 + ts 版

::: code-group

```sh [github]
# 通过 npx 从 github 下载
npx degit dcloudio/uni-preset-vue#vite-ts 项目名称
```

```sh [👉国内 gitee]
# 通过 git 从 gitee 克隆下载 (👉备用地址)
git clone -b vite-ts https://gitee.com/dcloud/uni-preset-vue.git
```

```
npx degit dcloudio/uni-preset-vue#vite-ts 原始项目
```

:::

创建其他版本可查看：[uni-app 官网](https://uniapp.dcloud.net.cn/quickstart-cli.html)

::: danger 常见问题

- 运行 `npx` 命令下载失败，请尝试换成**手机热点重试**
- 换手机热点依旧失败，请尝试从[国内备用地址下载](https://gitee.com/dcloud/uni-preset-vue/tree/vite-ts/)
- 在 `manifest.json` 文件添加 [小程序 AppID](https://mp.weixin.qq.com/) 用于真机预览
- 运行 `npx` 命令需依赖 NodeJS 环境，[NodeJS 下载地址](https://nodejs.org/zh-cn)
- 运行 `git` 命令需依赖 Git 环境，[Git 下载地址](https://git-scm.com/download/)

:::

::: details 为什么执行项目初始化之后，安装的依赖不是最新的？

这是 **正常现象**，原因主要有以下几点：

------

✅ **1. 模板依赖是固定版本**

`npx degit dcloudio/uni-preset-vue#vite-ts` 只是把 **GitHub 仓库上的模板代码** 下载到本地，它不会自动更新模板里的 `package.json` 到最新版本。

模板作者（DCloud）为了保证**兼容性和稳定性**，通常会：

- 在 `package.json` 中写死特定版本或使用 **固定范围（^ 或 ~）**。
- 避免因为依赖升级导致构建失败。

------

✅ **2. degit 不会安装依赖，也不会检查最新版本**

`degit` 的作用：

- **复制 Git 仓库某个分支/标签的文件**。
- 它不会运行 `npm update`，也不会联系 npm registry 获取最新版本。

安装依赖时（`npm install` 或 `pnpm install`），会根据 `package.json` 和 `package-lock.json` 安装。

- 如果模板带了 `package-lock.json`，锁定了版本。
- 如果模板没有 lock 文件，但 `package.json` 里指定了老版本，仍会安装老版本。

------

✅ **3. uni-app 官方模板更新频率**

DCloud 的 uni-app 官方模板更新节奏相对慢，**可能模板里依赖版本已经落后于最新的 Vite / Vue / TypeScript 版本**，因为：

- uni-app 需要兼容 App、小程序等平台。
- 新版 Vite 或 TS 可能引入 breaking changes。

------

✅ **如何让依赖更新到最新版本？**

有几种方法：

------

**✔ 方法 1：用 `npm-check-updates` 更新依赖**

安装 `npm-check-updates`（简称 ncu）：

```
npm install -g npm-check-updates
```

然后在项目目录运行：

```
ncu -u
```

这会更新 `package.json` 中的依赖到最新版本。

再重新安装：

```
npm install
```

------

**✔ 方法 2：手动修改 `package.json`**

- 把主要依赖（`vue`、`vite`、`typescript` 等）改成 `"latest"` 或 `^最新版本号`。
- 然后重新执行 `npm install`。

------

**✔ 方法 3：使用 `pnpm` 并指定最新依赖**

如果你用 `pnpm`，可以直接：

```
pnpm up --latest
```

会直接更新到最新版本。

------

✅ **注意**

**更新到最新依赖可能会导致 uni-app 相关插件不兼容**，尤其是：

- `@dcloudio/uni-app`
- `@dcloudio/vite-plugin-uni`
- `vite`、`rollup` 插件

所以：

- **先更新非 uni-app 核心依赖**（比如 ESLint、TypeScript）。
- 核心依赖建议跟 uni-app 官方推荐版本走。

:::

使用命令行编译和运行 uni-app 项目

1. 安装依赖 `pnpm install`
2. 编译成微信小程序 `pnpm dev:mp-weixin`
3. 导入微信开发者工具

::: tip 温馨提示
编译成 H5 端可运行 `pnpm dev:h5` 通过浏览器预览项目。
:::

## 用 VS Code 开发 uni-app 项目

### 为什么选择 VS Code？

- VS Code 对 **TS 类型支持友好**，前端开发者**主流的编辑器**
- HbuilderX 对 TS 类型支持暂不完善，期待官方完善 👀

### 使用 VS Code 开发配置

- 👉 前置工作：安装 Vue3 插件，[点击查看官方文档](https://cn.vuejs.org/guide/typescript/overview.html#ide-support)
  - 安装 **Vue Language Features (Volar)** ：Vue3 语法提示插件
  - 安装 **TypeScript Vue Plugin (Volar)** ：Vue3+TS 插件
  - **工作区禁用** Vue2 的 Vetur 插件(Vue3 插件和 Vue2 冲突)
  - **工作区禁用** @builtin typescript 插件（禁用后开启 Vue3 的 TS 托管模式）
- 👉 安装 uni-app 开发插件
  - **uni-create-view** ：快速创建 uni-app 页面
  - **uni-helper uni-app** ：代码提示
  - **uniapp 小程序扩展** ：鼠标悬停查文档
- 👉 TS 类型校验
  - 安装 **类型声明文件** `pnpm i -D miniprogram-api-typings @uni-helper/uni-app-types`
  - 配置 `tsconfig.json`
- 👉 JSON 注释问题
  - 设置文件关联，把 `manifest.json` 和 `pages.json` 设置为 `jsonc`

`tsconfig.json` 参考

```json {11,12,14-15,18-22}
// tsconfig.json
{
  "extends": "@vue/tsconfig/tsconfig.json",
  "compilerOptions": {
    "sourceMap": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    "lib": ["esnext", "dom"],
    // 类型声明文件
    "types": [
      "@dcloudio/types", // uni-app API 类型
      "miniprogram-api-typings", // 原生微信小程序类型
      "@uni-helper/uni-app-types" // uni-app 组件类型
    ]
  },
  // vue 编译器类型，校验标签类型
  "vueCompilerOptions": {
    // 原配置 `experimentalRuntimeMode` 现调整为 `nativeTags`
    "nativeTags": ["block", "component", "template", "slot"], // [!code ++]
    "experimentalRuntimeMode": "runtime-uni-app" // [!code --]
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"]
}
```

**工作区设置参考**

```json
// .vscode/settings.json
{
  // 在保存时格式化文件
  "editor.formatOnSave": true,
  // 文件格式化配置
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  // 配置语言的文件关联
  "files.associations": {
    "pages.json": "jsonc", // pages.json 可以写注释
    "manifest.json": "jsonc" // manifest.json 可以写注释
  }
}
```

::: danger 版本升级

- 原依赖 `@types/wechat-miniprogram` 现调整为 [miniprogram-api-typings](https://github.com/wechat-miniprogram/api-typings)。
- 原配置 `experimentalRuntimeMode` 现调整为 `nativeTags`。

:::

### 针对 jsonc 注释问题的补充

::: details 点击查看详情

最佳实践配置：

```ts
import js from '@eslint/js'
import globals from 'globals'
import tseslint from 'typescript-eslint'
import pluginVue from 'eslint-plugin-vue'
import json from '@eslint/json'
import markdown from '@eslint/markdown'
import css from '@eslint/css'
import { defineConfig } from 'eslint/config'

// import skipFormatting from '@vue/eslint-config-prettier/skip-formatting'
import eslintConfigPrettier from 'eslint-config-prettier/flat'

import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended'

// 提供 JSON/JSONC 的规则集合
import pluginJsonc from 'eslint-plugin-jsonc'
// 提供 JSONC 解析器 - 让 ESLint 能解析 //、/* */ 注释、尾逗号等 JSONC 语法
import jsoncParser from 'jsonc-eslint-parser'

export default defineConfig([
  // 首先添加忽略模式 - 防止非 Vue 文件被 Vue 规则处理
  {
    ignores: [
      'dist/**',
      'node_modules/**',
      'unpackage/**',
      '**/*.md',
      '**/*.css',
    ],
  },

  {
    files: ['**/*.{js,mjs,cjs,ts,mts,cts,vue}'],
    plugins: { js },
    extends: ['js/recommended'],
    languageOptions: { globals: { ...globals.browser, ...globals.node } },
  },
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  ...(tseslint.configs.recommended as any),

  pluginVue.configs['flat/essential'],
  {
    files: ['**/*.vue'],
    languageOptions: { parserOptions: { parser: tseslint.parser } },
  },
  {
    files: ['**/*.json', '**/*.jsonc', '**/*.json5'],
    languageOptions: {
      parser: jsoncParser, // 关键：必须显式指定 JSONC 解析器
    },
    // ----------- 目前没有发现这段有什么太大软用 ------------------
    plugins: { jsonc: pluginJsonc },
    // plugin:jsonc/recommended-with-jsonc 是 eslint-plugin-jsonc 插件内部提供的预设规则集
    // 也就是一个“官方推荐的 JSONC 配置”，专门用于解析 允许注释和尾逗号的 JSONC 文件
    // 事实上 eslint --fix . 根本无法识别下面这行配置,找不到, 写法被废弃了
    // extends: ['plugin:jsonc/recommended-with-jsonc'],
    rules: {
      // 直接从 eslint-plugin-jsonc 插件中获取推荐规则集，并按需覆盖关键项，避免使用废弃的 extends 语法
      // ...pluginJsonc.configs['recommended-with-jsonc'].rules,
      'jsonc/no-comments': 'off', // 允许注释
      'jsonc/comma-style': ['error', 'last'], // 这个规则只控制逗号的位置（比如在多行数组/对象里，逗号在行尾还是行首）
      'jsonc/no-dupe-keys': 'error', // 禁止重复 key
      'jsonc/valid-json-number': 'error', // 数字合法性校验
    },
    // ----------- 目前没有发现这段有什么太大软用 end ------------------
  },
  {
    files: ['**/*.md'],
    plugins: { markdown },
    language: 'markdown/commonmark',
    extends: ['markdown/recommended'],
  },
  {
    files: ['**/*.css'],
    plugins: { css },
    language: 'css/css',
    extends: ['css/recommended'],
  },

  eslintConfigPrettier,
  // 其中包含推荐配置
  eslintPluginPrettierRecommended,
  // skipFormatting,
])
```

这样的结果，会导致 eslint 接管所有 json 文件的风格和格式化，因此需要：

```ts
// settings.json
{
  // 保存时自动格式化
  "editor.formatOnSave": true,
  // 启用 ESLint Flat Config
  "eslint.useFlatConfig": true,
  // "editor.defaultFormatter": "dbaeumer.vscode-eslint",
  // 文件格式化配置
  "[json]": {
    // "editor.defaultFormatter": "vscode.json-language-features"
    // 但实际上，因为 eslint.validate 不包含 json，ESLint 不会处理普通 JSON 文件
    // 所以保存时会回退到 VSCode 内置的 JSON 格式化器
    // "editor.defaultFormatter": "dbaeumer.vscode-eslint"
  },
  "[jsonc]": {
    // "editor.defaultFormatter": "vscode.json-language-features",
    "editor.defaultFormatter": "dbaeumer.vscode-eslint", // [!code ++]
    // 缩进效果最终取决于 ESLint/Prettier，而不是 tabSize
    "editor.tabSize": 4,
    "editor.insertSpaces": true
  },
  // ESLint 校验范围
  "eslint.validate": ["javascript", "vue", "jsonc"], // [!code ++]
  // 配置语言的文件关联
  "files.associations": { // [!code ++]
    "pages.json": "jsonc", // [!code ++]
    "manifest.json": "jsonc" // [!code ++]
  } // [!code ++]
}
```

其中：

```json
"files.associations": {
  "pages.json": "jsonc",
  "manifest.json": "jsonc"
}
```

作用：告诉 VSCode 将这两个 JSON 文件当作 JSONC 类型处理

::: details 让 ESLint 真正识别 JSONC/带注释的 JSON 的完整步骤

步骤 1：安装依赖

```
pnpm add -D eslint-plugin-jsonc jsonc-eslint-parser
```

- **eslint-plugin-jsonc**：提供 JSON/JSONC 的规则集合
- **jsonc-eslint-parser**：让 ESLint 能解析 `//`、`/* */` 注释、尾逗号等 JSONC 语法

------

步骤 2：配置 ESLint

A)  **Flat Config**（`eslint.config.js` / `eslint.config.mjs`）

增加核心代码：

```ts
// 提供 JSON/JSONC 的规则集合
import pluginJsonc from 'eslint-plugin-jsonc'
// 提供 JSONC 解析器 - 让 ESLint 能解析 //、/* */ 注释、尾逗号等 JSONC 语法
import jsoncParser from 'jsonc-eslint-parser'

{
  files: ['**/*.json', '**/*.jsonc', '**/*.json5'],
  languageOptions: {
    parser: jsoncParser, // 关键：必须显式指定 JSONC 解析器
  },
  // ----------- 目前没有发现这段有什么太大软用 ------------------
  plugins: { jsonc: pluginJsonc },
  // plugin:jsonc/recommended-with-jsonc 是 eslint-plugin-jsonc 插件内部提供的预设规则集
  // 也就是一个“官方推荐的 JSONC 配置”，专门用于解析 允许注释和尾逗号的 JSONC 文件
  // 事实上 eslint --fix . 根本无法识别下面这行配置,找不到, 写法被废弃了
  // extends: ['plugin:jsonc/recommended-with-jsonc'],
  rules: {
    // 直接从 eslint-plugin-jsonc 插件中获取推荐规则集，并按需覆盖关键项，避免使用废弃的 extends 语法
    // ...pluginJsonc.configs['recommended-with-jsonc'].rules,
    'jsonc/no-comments': 'off', // 允许注释
    'jsonc/comma-style': ['error', 'last'], // 这个规则只控制逗号的位置（比如在多行数组/对象里，逗号在行尾还是行首）
    'jsonc/no-dupe-keys': 'error', // 禁止重复 key
    'jsonc/valid-json-number': 'error', // 数字合法性校验
  },
  // ----------- 目前没有发现这段有什么软用 end ------------------
},
```

> eslint 初始化配置文件当中，使用的是 `@eslint/json` 插件：
>
> ```ts
>   {
>     files: ['**/*.json'],
>     plugins: { json },
>     language: 'json/json',
>     extends: ['json/recommended'],
>   },
>   {
>     files: ['**/*.jsonc'],
>     plugins: { json },
>     language: 'json/jsonc',
>     extends: ['json/recommended'],
>     rules: {
>       'jsonc/no-comments': 'off',
>     },
>   },
>   {
>     files: ['**/*.json5'],
>     plugins: { json },
>     language: 'json/json5',
>     extends: ['json/recommended'],
>   },
> ```
>
> 它是 **纯 JSON 解析**，并不支持注释。操作时需要首先将以上部分注释或删除，否则：
>
> 这两组配置存在 **重叠**，容易导致解析冲突：
>   
>   - JSONC 文件：被 `@eslint/json`（不支持注释）和 `jsonc-eslint-parser`（支持注释）同时接管 → ⚠️ 注释报错
>    
>    ✅ 建议：
>    
>    - 如果你只想要 JSONC（支持注释），可以直接删掉。

------

B) **传统 .eslintrc**（`.eslintrc.js` / `.eslintrc.cjs` / `.eslintrc.json`）

（暂未踩坑实测，仅供参考）

```
// .eslintrc.js
module.exports = {
  // ...你的原有配置
  plugins: ['jsonc'],
  overrides: [
    {
      files: ['*.json', '*.jsonc', '*.json5'],
      parser: 'jsonc-eslint-parser',
      rules: {
        // 如果你想直接用推荐规则：
        // extends 在 overrides 里不能用，取而代之可手动复制推荐规则，或在根级 extends：
        // extends: ['plugin:jsonc/recommended-with-jsonc'],

        'jsonc/no-comments': 'off',
        'jsonc/no-dupe-keys': 'error',
        'jsonc/valid-json-number': 'error',
        // 'jsonc/sort-keys': ['warn', { pathPattern: '.*', order: { type: 'asc' } }],
      },
    },
  ],
  extends: [
    // 如果你希望在根级一次性启用 JSONC 推荐规则（更省事）：
    // 'plugin:jsonc/recommended-with-jsonc',
  ],
}
```

------

步骤 3：配置 settings.json 让 VS Code 正确校验 & 正确格式化

- **让 ESLint 插件去校验 JSON/JSONC 文件**（可选但推荐）
   在你的 VS Code `settings.json` 中加入/确认：

```json
{
  // 保存时自动格式化
  "editor.formatOnSave": true,
  // 启用 ESLint Flat Config
  "eslint.useFlatConfig": true,
  // 文件格式化配置
  "[json]": {
    "editor.defaultFormatter": "vscode.json-language-features"
  },
  "[jsonc]": {
    "editor.defaultFormatter": "vscode.json-language-features",
    "editor.tabSize": 4,
    "editor.insertSpaces": true
  },
  // ESLint 校验范围
  "eslint.validate": [
    "javascript",
    "vue",
    "jsonc"
  ],
  // 配置语言的文件关联
  "files.associations": {
    "pages.json": "jsonc",
    "manifest.json": "jsonc"
  }
}
```

其中，**`"editor.defaultFormatter": "vscode.json-language-features"`**

- 只调用 VSCode 内置的 JSON/JSONC 格式化器。
- 格式化行为局限于缩进、对齐和简单空格调整。
- **不会触发 ESLint 规则**，所以 `jsonc/comma-style`、`jsonc/no-dupe-keys` 等规则不会生效。

`"editor.defaultFormatter": "vscode.json-language-features"` **只调用 VSCode 内置的 JSON/JSONC 格式化器**，作用仅限于：

- 自动缩进
- 对齐 key-value
- 对注释的基本格式化（JSONC）

VSCode 内置 JSON/JSONC 格式化器默认行为，强制文件以单行结尾，不依赖 ESLint。

它 **不会触发 ESLint**，也不会执行任何 ESLint 规则，但有一点需要需要注意，Prettier 对 JSON / JSONC 文件的提示是 **独立的**，并不依赖 ESLint，因此：当配置为"editor.defaultFormatter": "vscode.json-language-features"时，Prettier 会独立提示 JSON 格式问题。

这样配置意味着，保存时 VSCode 内置 JSON/JSONC 格式化器重新格式化 → 自动删除多余空行，删除后即出现与prettier的冲突，因为prettier末尾空行。

只有设置 `"editor.defaultFormatter": "dbaeumer.vscode-eslint"` **并且 ESLint 配置正确**时，保存才会触发 `eslint --fix`，对 JSONC 文件执行 ESLint 规则修复。

并且，实测无法实现针对jsonc文件的保存自动格式化，chatgpt 提示需要手动 eslint --fix 触发自动格式化，截至目前没有实测..

**ESLint 配置中的 JSONC block**

```
{
  files: ['pages.json', 'manifest.json'],
  plugins: { json: pluginJsonc },
  languageOptions: { parser: jsoncParser },
  extends: ['plugin:jsonc/recommended-with-jsonc'],
  rules: {
    'jsonc/no-comments': 'off',
    'jsonc/comma-style': ['error', 'last'],
  },
}
```

- 由 ESLint 插件管理 JSONC 文件的规则。
- **可以检测尾随逗号、重复 key、注释合法性等**，并在执行 `eslint --fix` 或 `"editor.defaultFormatter": "dbaeumer.vscode-eslint"` 时自动修复。

:::

:::

::: details eslint flat config 的深入

defineConfig 和直接填写数组配置项之间有一些区别，加载顺序、执行时机，类型推荐很多方面的区别吧

:::

### 针对微信开发者平台的配置







## 代码风格

安装插件：

```
pnpm i -D eslint prettier eslint-plugin-vue @vue/eslint-config-prettier @vue/eslint-config-typescript @vue/tsconfig 
```

执行eslint初始化：

```
pnpm init @eslint/config
```

它其实就是调用 **`@eslint/create-config`** 这个官方工具。

执行流程

::: details 点击查看详情

1. **交互式提问**；
2. 根据答案生成一个 **配置文件**（`.eslintrc.ts` / `.eslintrc.js` / `.eslintrc.json`）；
3. 根据需要 **自动安装相关依赖**（例如 `eslint`、`eslint-plugin-vue`、`@vue/eslint-config-prettier` 等）；
   - 用的是 `pnpm add -D`，因为这些依赖都是开发依赖。
   - 如果你选了 Jiti，也会一并安装。

总结一下 **`@eslint/create-config v1.10.0`** 的初始化流程和选项：

1. **What do you want to lint?**
    → `javascript, json, jsonc, json5, md, css` ✅
2. **How would you like to use ESLint?**
    → `problems` （检查语法和常见问题，不做风格约束）
3. **What type of modules does your project use?**
    → `esm` （ES Module）
4. **Which framework does your project use?**
    → `vue` （uni-app 基于 Vue）
5. **Does your project use TypeScript?**
    → `Yes`
6. **Where does your code run?**
    → `browser, node`
7. **Which language do you want your configuration file be written in?**
    → `ts`
8. **What flavor of Markdown do you want to lint?**
    → `commonmark`
9. **Jiti is required for Node.js <24.3.0... Would you like to add Jiti as a devDependency?**
    → 建议现在 Node18 → 选 `Yes` ✅

这一步处理很关键，否则 TS 项目无法校验组件属性类型。

:::

然后，需要更改默认的 eslint 配置文件：

以下是初始化后的默认配置：

```ts
// eslint.config.mts
import { globalIgnores } from 'eslint/config'
import { defineConfigWithVueTs, vueTsConfigs } from '@vue/eslint-config-typescript'
import pluginVue from 'eslint-plugin-vue'
import skipFormatting from '@vue/eslint-config-prettier/skip-formatting'

// To allow more languages other than `ts` in `.vue` files, uncomment the following lines:
// import { configureVueProject } from '@vue/eslint-config-typescript'
// configureVueProject({ scriptLangs: ['ts', 'tsx'] })
// More info at https://github.com/vuejs/eslint-config-typescript/#advanced-setup

export default defineConfigWithVueTs(
  {
    name: 'app/files-to-lint',
    files: ['**/*.{ts,mts,tsx,vue}'],
  },

  globalIgnores(['**/dist/**', '**/dist-ssr/**', '**/coverage/**']),

  pluginVue.configs['flat/essential'],
  vueTsConfigs.recommended,
  skipFormatting,
)
```

适配 prettier 之后的配置：

```ts
import { globalIgnores } from 'eslint/config'
import { defineConfigWithVueTs, vueTsConfigs } from '@vue/eslint-config-typescript'
import pluginVue from 'eslint-plugin-vue'
import stylistic from '@stylistic/eslint-plugin'
import skipFormatting from '@vue/eslint-config-prettier/skip-formatting'
// eslint-plugin-prettier 并不内置多个格式规则
// 它只提供一条 prettier/prettier 规则，用来让 ESLint 调用 Prettier 并把格式问题当成 ESLint 错误报告出来
import eslintConfigPrettier from 'eslint-config-prettier/flat' // [!code ++]
// eslintPluginPrettierRecommended 并没有自己定义格式规则，它只是把 Prettier 的规则和 ESLint 联动起来
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended' // [!code ++]

// To allow more languages other than `ts` in `.vue` files, uncomment the following lines:
// import { configureVueProject } from '@vue/eslint-config-typescript'
// configureVueProject({ scriptLangs: ['ts', 'tsx'] })
// More info at https://github.com/vuejs/eslint-config-typescript/#advanced-setup

export default defineConfigWithVueTs(
  {
    name: 'app/files-to-lint',
    files: ['**/*.{ts,mts,tsx,vue}'],
    plugins: { 
      // 不额外单独启用任何 Stylistic 规则 → 可以删掉
      // 偶尔想补充一些非 Prettier 规则（比如空行、注释风格等） → 保留
      // 这行只是告诉 ESLint：“我有一个叫 @stylistic 的插件，它提供了一堆 @stylistic/xxx 规则”。
      '@stylistic': stylistic,
    },
    // 在 rules 里，你要手动启用你需要的 Stylistic 规则：
    rules: {},
  },

  globalIgnores(['**/dist/**', '**/dist-ssr/**', '**/coverage/**']),

  pluginVue.configs['flat/essential'],
  vueTsConfigs.recommended,
  // skipFormatting，会 禁止 Prettier 检查，导致 .prettierrc 无效 // [!code ++]
  // 由此可以看出执行顺序的机制，当 skipFormatting 在前时，会被覆盖？？？ // [!code ++]
  skipFormatting, // [!code ++]
  eslintConfigPrettier, // [!code ++]
  eslintPluginPrettierRecommended, // [!code ++]
  // ✅ ✨ 插入推荐风格规则（官方建议的方式，前提是：不使用prettier） // [!code ++]
  // 可以理解为，@stylistic 插件本来的目的：  // [!code ++]
  // 是把 ESLint v9 中移除的格式规则（如 semi、indent 等）重新实现为插件。 // [!code ++]
  // 这套规则并不是为了和 Prettier 并用，而是: // [!code ++]
  // 给不使用 Prettier 的项目提供 ESLint 的格式检查能力 // [!code ++]
  // stylistic.configs.recommended, // [!code ++]
)
```



## 开发工具回顾

选择自己习惯的编辑器开发 uni-app 项目即可。

**HbuilderX 和 微信开发者工具 关系**
![HbuilderX 和 微信开发者工具 关系](../../../public/image-uniapp_picture_7.png)

**VS Code 和 微信开发者工具 关系**
![VS Code 和 微信开发者工具 关系](../../../public/image-uniapp_picture_8.png)

## 用 VS Code 开发

使用 `VS Code` 编辑器写代码，实现 tabBar 案例 + 轮播图案例。

::: tip 温馨提示

`VS Code` 可通过快捷键 `Ctrl + i` 唤起代码提示。

:::